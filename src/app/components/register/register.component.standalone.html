<div class="register-container">
  <div class="register-card">
    <div class="card-header">
      <h2>Register</h2>
    </div>
    <div class="card-content">
      <form #form="ngForm" [formGroup]="registerForm" (ngSubmit)="register()" novalidate>
        <div class="form-group">
          <label for="userName">Username</label>
          <input type="text" id="userName" class="e-input" formControlName="userName" 
                 autocomplete="off" (keydown.enter)="register()">
          <div *ngIf="userName.invalid && (userName.dirty || userName.touched)" class="error-message">
            <div *ngIf="userName.errors?.['required']">Username is required</div>
          </div>
        </div>
        
        <div class="form-group">
          <label for="email">Email</label>
          <input type="email" id="email" class="e-input" formControlName="email" 
                 autocomplete="email" (keydown.enter)="register()">
          <div *ngIf="email.invalid && (email.dirty || email.touched)" class="error-message">
            <div *ngIf="email.errors?.['required']">Email is required</div>
            <div *ngIf="!email.errors?.['required'] && email.errors?.['email']">Email is invalid</div>
          </div>
        </div>
        
        <div formGroupName="password">
          <div class="form-group">
            <label for="newPassword">Password</label>
            <input type="password" id="newPassword" class="e-input" formControlName="newPassword" 
                   autocomplete="new-password" (keydown.enter)="register()">
            <div *ngIf="newPassword.invalid && (newPassword.dirty || newPassword.touched)" class="error-message">
              <div *ngIf="newPassword.errors?.['required']">Password is required</div>
              <div *ngIf="!newPassword.errors?.['required'] && newPassword.errors?.['pattern']">
                Password must contain: one uppercase letter, one lowercase letter, one digit, and any special character
              </div>
            </div>
          </div>
          
          <div class="form-group">
            <label for="confirmPassword">Confirm Password</label>
            <input type="password" id="confirmPassword" class="e-input" formControlName="confirmPassword" 
                   autocomplete="new-password" (keydown.enter)="register()">
            <div *ngIf="confirmPassword.invalid && (confirmPassword.dirty || confirmPassword.touched)" class="error-message">
              <div *ngIf="confirmPassword.errors?.['required']">Confirm password is required</div>
              <div *ngIf="!confirmPassword.errors?.['required'] && confirmPassword.errors?.['notEqual']">
                Passwords do not match
              </div>
            </div>
          </div>
        </div>
      </form>
    </div>
    <div class="card-actions">
      <button ejs-button cssClass="e-primary" [disabled]="isLoading" (click)="register()">
        <div *ngIf="isLoading" class="spinner-container">
          <span class="loading-icon">âŒ›</span>
        </div>
        <span>REGISTER</span>
      </button>
      <a ejs-button cssClass="e-flat" routerLink="/login">CANCEL</a>
    </div>
  </div>
</div>