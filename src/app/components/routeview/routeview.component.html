<google-map
  height="700px"
  width="100%"
  [zoom]="zoom"
  [center]="center"
  [options]="options"
>
  <!-- Show the first dynamic path directly for debugging -->
  <map-polyline
    *ngIf="vehiclePathsArray.length > 0"
    [path]="vehiclePathsArray[0]"
    [options]="{ strokeColor: '#0000FF', strokeOpacity: 1.0, strokeWeight: 3 }">
  </map-polyline>
  <!-- Draw a polyline for each vehicle's path -->
  <map-polyline *ngFor="let path of vehiclePathsArray"
    [path]="path"
    [options]="{ strokeColor: '#4285F4', strokeOpacity: 1.0, strokeWeight: 3 }">
  </map-polyline>
  <!-- Draw a marker for each vehicle at its latest position -->
  <map-marker *ngFor="let marker of vehicleMarkersArray" [options]="marker"></map-marker>
</google-map>

<div class=>
  <div class="col-lg-12 control-section card-control-section tile_layout">
    <div class="e-card-layout">
      <div *ngIf="(vehicleComponents$ | async)?.length === 0" class="e-error">
        <div class="e-error-content">No results found. Please try a different search.</div>
      </div>
      <div *ngIf="(vehicleComponents$ | async)?.length > 0" class="flex-container">
        <div *ngFor="let vehicle of (vehicleComponents$ | async); let i = index" class="col-sm-12 col-lg-2 col-md-6" style="padding: 15px;">
          <ejs-card [id]="'BasicCard_' + i">
            <app-vehicle-card [vehicle]="vehicle"></app-vehicle-card>
          </ejs-card>
        </div>
      </div>
    </div>
  </div>
</div>

<ng-template #loading>Loading...</ng-template>
